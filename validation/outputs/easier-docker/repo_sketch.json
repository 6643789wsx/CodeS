[
    {
        "readme": "# easier-docker\n\n## Repository Introduction\nThis is based on [docker-py](https://github.com/docker/docker-py?tab=readme-ov-file) which makes it easier to run your program in docker.\nConfigure your container image information more easily in python, allowing the container in docker to execute the configured program you want to execute.\n\n## Usage\n\ud83d\udca1 Please check config parameters in [Docker SDK for Python](https://docker-py.readthedocs.io/en/stable/containers.html)\n\n### Use examples in code\n```bash\npython example.py\n```\n```python\n# example.py\nimport os\n\nfrom easierdocker import EasierDocker\n\nif __name__ == '__main__':\n    host_script = os.path.dirname(os.path.abspath(__file__))\n    container_script = '/path/to/container'\n    config = {\n        'image': 'python:3.9',\n        'name': 'python_test',\n        'volumes': {\n            f'{host_script}': {'bind': container_script, 'mode': 'rw'}\n        },\n        'detach': True,\n        'command': [\"sh\", \"-c\", f'cd {container_script} &&'\n                                'python docker_example.py'],\n    }\n    easier_docker = EasierDocker(config)\n    easier_docker.start()\n    \"\"\"\n    >>> 2023-12-29 15:17:31,901 - INFO - easier-docker ==> Network id: [13c5a6cb0137], name: [host]\n    >>> 2023-12-29 15:17:31,901 - INFO - easier-docker ==> Network id: [27d6b39aeef6], name: [none]\n    >>> 2023-12-29 15:17:31,901 - INFO - easier-docker ==> Network id: [2c9ae2fbfe9d], name: [bridge]\n    >>> 2023-12-29 15:17:31,901 - INFO - easier-docker ==> Network: [bridge] is found locally...\n    >>> 2023-12-29 15:17:31,901 - INFO - easier-docker ==> Find docker image: [python:3.9] locally...\n    >>> 2023-12-29 15:17:31,906 - INFO - easier-docker ==> Image: [python:3.9] is found locally\n    >>> 2023-12-29 15:17:31,906 - INFO - easier-docker ==> Find docker container: [python_test] locally...\n    >>> 2023-12-29 15:17:31,910 - INFO - easier-docker ==> ContainerNotFound: [python_test], it will be created\n    >>> 2023-12-29 15:17:34,217 - INFO - easier-docker ==> Container name: [python_test] is running\n    >>> 2023-12-29 15:17:34,217 - INFO - easier-docker ==> Container id: [fd7fad6e9995] is running\n    >>> 2023-12-29 15:17:34,217 - INFO - easier-docker ==> Container ip address: [172.17.0.2]\n    >>> 2023-12-29 15:17:34,217 - INFO - easier-docker ==> Successfully container is running and be created at 2023-12-29T07:17:31.912747785Z\n    \"\"\"\n```\nThe content of docker_example.py is\n```python\n# docker_example.py\ndef main():\n    import logging\n    import time\n    for i in range(1, 101):\n        logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')\n        logging.info(f'sleep 30s, times:{i}')\n        time.sleep(30)\n\n\nif __name__ == '__main__':\n    main()\n\n```\n\n### Run directly from configuration file\nCurrently supports type of file: _yml_, _yaml_, _json_\n```bash\neasier-docker -c config.yaml\n```\nThe content of config.yaml is\n```yaml\n# config.yaml\nimage: python:3.9\nname: python_test\nvolumes:\n  /Users/admin/data/code_project/easier-docker/example:\n    bind: /path/to/container\n    mode: rw\ndetach: true\ncommand:\n  - sh\n  - -c\n  - cd /path/to/container && python docker_example.py\n      \n    # >>> 2023-12-29 15:08:58,703 - INFO - easier-docker ==> config =\n    # >>>  {\n    # >>>     \"image\": \"python:3.9\",\n    # >>>     \"name\": \"python_test\",\n    # >>>     \"volumes\": {\n    # >>>         \"D:\\\\code-project\\\\EasierDocker\\\\example\": {\n    # >>>             \"bind\": \"/path/to/container\",\n    # >>>             \"mode\": \"rw\"\n    # >>>         }\n    # >>>     },\n    # >>>     \"detach\": true,\n    # >>>     \"command\": [\n    # >>>         \"sh\",\n    # >>>         \"-c\",\n    # >>>         \"cd /path/to/container && python docker_example.py\"\n    # >>>     ]\n    # >>>  }\n    # >>> 2023-12-29 15:08:58,707 - INFO - easier-docker ==> Find docker image: [python:3.9] locally...\n    # >>> 2023-12-29 15:08:58,724 - INFO - easier-docker ==> Image: [python:3.9] is found locally\n    # >>> 2023-12-29 15:08:58,725 - INFO - easier-docker ==> Find docker container: [python_test] locally...\n    # >>> 2023-12-29 15:08:58,730 - INFO - easier-docker ==> ContainerNotFound: [python_test], it will be created\n    # >>> 2023-12-29 15:09:00,989 - INFO - easier-docker ==> Container name: [python_test] is running\n    # >>> 2023-12-29 15:09:00,990 - INFO - easier-docker ==> Container id: [a9b642f2ddf3] is running\n    # >>> 2023-12-29 15:09:00,990 - INFO - easier-docker ==> Container ip address: [172.17.0.2]\n    # >>> 2023-12-29 15:09:00,991 - INFO - easier-docker ==> Successfully container is running and be created at 2023-12-29T07:08:58.738605891Z\n\n```",
        "instruction": "Below is a detailed README.md of repository. Please write a repository sketch in the form of a tree, including all folders, files, as well as imports information if necessary.\n\n---\nREADME.md\n---\n# easier-docker\n\n## Repository Introduction\nThis is based on [docker-py](https://github.com/docker/docker-py?tab=readme-ov-file) which makes it easier to run your program in docker.\nConfigure your container image information more easily in python, allowing the container in docker to execute the configured program you want to execute.\n\n## Usage\n\ud83d\udca1 Please check config parameters in [Docker SDK for Python](https://docker-py.readthedocs.io/en/stable/containers.html)\n\n### Use examples in code\n```bash\npython example.py\n```\n```python\n# example.py\nimport os\n\nfrom easierdocker import EasierDocker\n\nif __name__ == '__main__':\n    host_script = os.path.dirname(os.path.abspath(__file__))\n    container_script = '/path/to/container'\n    config = {\n        'image': 'python:3.9',\n        'name': 'python_test',\n        'volumes': {\n            f'{host_script}': {'bind': container_script, 'mode': 'rw'}\n        },\n        'detach': True,\n        'command': [\"sh\", \"-c\", f'cd {container_script} &&'\n                                'python docker_example.py'],\n    }\n    easier_docker = EasierDocker(config)\n    easier_docker.start()\n    \"\"\"\n    >>> 2023-12-29 15:17:31,901 - INFO - easier-docker ==> Network id: [13c5a6cb0137], name: [host]\n    >>> 2023-12-29 15:17:31,901 - INFO - easier-docker ==> Network id: [27d6b39aeef6], name: [none]\n    >>> 2023-12-29 15:17:31,901 - INFO - easier-docker ==> Network id: [2c9ae2fbfe9d], name: [bridge]\n    >>> 2023-12-29 15:17:31,901 - INFO - easier-docker ==> Network: [bridge] is found locally...\n    >>> 2023-12-29 15:17:31,901 - INFO - easier-docker ==> Find docker image: [python:3.9] locally...\n    >>> 2023-12-29 15:17:31,906 - INFO - easier-docker ==> Image: [python:3.9] is found locally\n    >>> 2023-12-29 15:17:31,906 - INFO - easier-docker ==> Find docker container: [python_test] locally...\n    >>> 2023-12-29 15:17:31,910 - INFO - easier-docker ==> ContainerNotFound: [python_test], it will be created\n    >>> 2023-12-29 15:17:34,217 - INFO - easier-docker ==> Container name: [python_test] is running\n    >>> 2023-12-29 15:17:34,217 - INFO - easier-docker ==> Container id: [fd7fad6e9995] is running\n    >>> 2023-12-29 15:17:34,217 - INFO - easier-docker ==> Container ip address: [172.17.0.2]\n    >>> 2023-12-29 15:17:34,217 - INFO - easier-docker ==> Successfully container is running and be created at 2023-12-29T07:17:31.912747785Z\n    \"\"\"\n```\nThe content of docker_example.py is\n```python\n# docker_example.py\ndef main():\n    import logging\n    import time\n    for i in range(1, 101):\n        logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')\n        logging.info(f'sleep 30s, times:{i}')\n        time.sleep(30)\n\n\nif __name__ == '__main__':\n    main()\n\n```\n\n### Run directly from configuration file\nCurrently supports type of file: _yml_, _yaml_, _json_\n```bash\neasier-docker -c config.yaml\n```\nThe content of config.yaml is\n```yaml\n# config.yaml\nimage: python:3.9\nname: python_test\nvolumes:\n  /Users/admin/data/code_project/easier-docker/example:\n    bind: /path/to/container\n    mode: rw\ndetach: true\ncommand:\n  - sh\n  - -c\n  - cd /path/to/container && python docker_example.py\n      \n    # >>> 2023-12-29 15:08:58,703 - INFO - easier-docker ==> config =\n    # >>>  {\n    # >>>     \"image\": \"python:3.9\",\n    # >>>     \"name\": \"python_test\",\n    # >>>     \"volumes\": {\n    # >>>         \"D:\\\\code-project\\\\EasierDocker\\\\example\": {\n    # >>>             \"bind\": \"/path/to/container\",\n    # >>>             \"mode\": \"rw\"\n    # >>>         }\n    # >>>     },\n    # >>>     \"detach\": true,\n    # >>>     \"command\": [\n    # >>>         \"sh\",\n    # >>>         \"-c\",\n    # >>>         \"cd /path/to/container && python docker_example.py\"\n    # >>>     ]\n    # >>>  }\n    # >>> 2023-12-29 15:08:58,707 - INFO - easier-docker ==> Find docker image: [python:3.9] locally...\n    # >>> 2023-12-29 15:08:58,724 - INFO - easier-docker ==> Image: [python:3.9] is found locally\n    # >>> 2023-12-29 15:08:58,725 - INFO - easier-docker ==> Find docker container: [python_test] locally...\n    # >>> 2023-12-29 15:08:58,730 - INFO - easier-docker ==> ContainerNotFound: [python_test], it will be created\n    # >>> 2023-12-29 15:09:00,989 - INFO - easier-docker ==> Container name: [python_test] is running\n    # >>> 2023-12-29 15:09:00,990 - INFO - easier-docker ==> Container id: [a9b642f2ddf3] is running\n    # >>> 2023-12-29 15:09:00,990 - INFO - easier-docker ==> Container ip address: [172.17.0.2]\n    # >>> 2023-12-29 15:09:00,991 - INFO - easier-docker ==> Successfully container is running and be created at 2023-12-29T07:08:58.738605891Z\n\n```\n\n---\nRepository Sketch\n---\n",
        "input": "",
        "output": "Here is a practicable repository sketch.\n\n```\n.\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 setup.py\n\u251c\u2500\u2500 easierdocker\n|   \u251c\u2500\u2500 __init__.py\n|   \u251c\u2500\u2500 __main__.py\n|   \u251c\u2500\u2500 config.py\n|   \u251c\u2500\u2500 constants.py\n|   \u251c\u2500\u2500 docker_utils.py\n|   \u251c\u2500\u2500 easier_docker.py # import docker;\n|   \u2514\u2500\u2500 exceptions.py\n\u2514\u2500\u2500 example\n    \u251c\u2500\u2500 docker_example.py\n    \u2514\u2500\u2500 example.py # from easierdocker import EasierDocker;\n```"
    }
]